安全读取js链式属性模块
===

js在链式调用属性的时候，如果出现undefined，后续调用就会直接报错。针对这个问题，封装了一个安全读取的函数，能够捕获错误不报错。  
表现为调用链任意位置为空都能够返回默认返回值。  

变更历史
---

- 20191126：提取原项目，使用脚手架，并增加新功能，合成新项目。

功能
---

- 优化的错误提示

后续开发
---

- [x] ts重构
- [ ] npm包
- [ ] codepen在线演示

比较其他方法
---

一般简单的用||和&&就可以了，关键会越写越长。

缺点
---

也是特性吧，不会根据不同位置的为空的错误时返回不同的返回值。

使用方法
---

导入模块，使用时传入构造一个匿名函数返回读取的属性。匿名函数可以使用父作用域变量，也可以使用指定第二个变量配合匿名函数传参。  
实际应用时，在前端html模板里使用非常方便，如

`{{safeget(()=>this.data.name)}}`。

例子：

```js
let {safeget} = require('./safeget')
let a={b:{c:'C'}}
let value = safeget(()=>a.b.c)
let value2 = safeget(arg=>arg.b.c,a)
```

演示运行
---

安装依赖并运行

```sh
yarn
node index.js
```

注意
---

注意：闭包的词法作用域，由于对safeget传参一个匿名函数，该匿名函数的词法作用域还是本地的即创建时的词法作用域。而不是safeget里面的。  
所以，指定参数时，匿名函数构造时也要有参数传入，然后使用该参数。
